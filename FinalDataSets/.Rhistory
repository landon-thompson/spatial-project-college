library(maptools)
library(sp)
library(rgeos)
library(dplyr)
library(leaflet)
library(RColorBrewer)
library(htmlwidgets)
setwd('C:\\Users\\lthompson24500\\Google Drive\\Spatial Final Project\\FinalDataSets')
dat <- readShapePoly('CountyDemographics.shp')
proj4string(dat) <- CRS('+proj=utm +zone=15')
dat <- spTransform(dat, CRS('+proj=longlat +datum=WGS84'))
## First Plot
pal <- colorBin(c('yellow','blue'), domain = dat$MeanIncome)
labels <- paste(dat$CountyOrig,': ', dat$MeanIncome, ' Mean Income', sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
map
map <- leaflet() %>%
addProviderTiles(providers$OpenInfraMap)
map
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
map
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
incomeMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(MeanIncome) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels
)
## Click the "zoom" button and you can zoom in and out of the map below.
incomeMap
labels <- paste(dat$CountyOrig,' Mean Income: $', dat$MeanIncome, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
incomeMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(MeanIncome) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels
)
## Click the "zoom" button and you can zoom in and out of the map below.
incomeMap
saveWidget(incomeMap, file="IncomeMap.html")
## First Plot
pal <- colorBin(c('yellow','blue'), domain = dat$MeanIncome)
labels <- paste(dat$CountyOrig,' mean income: $', dat$MeanIncome, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
incomeMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(MeanIncome) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels
)
## Click the "zoom" button and you can zoom in and out of the map below.
incomeMap
dat$VoterTurnout <- dat$Votes/dat$Registered
pal <- colorBin(c('yellow','blue'), domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
dat$VoterTurnout <- round(dat$Votes/dat$Registered,2) * 100
## Mean Income
pal <- colorBin(c('yellow','blue'), domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
dat$VoterTurnout <- round(dat$Votes/dat$Registered,4) * 100
## Mean Income
pal <- colorBin(c('yellow','blue'), domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
dat$VoterTurnout <- round(dat$Votes/dat$TotalPopul,4) * 100
## Mean Income
pal <- colorBin(c('yellow','blue'), domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
pal <- colorBin(c('white','green'), domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
pal <- colorBin("greens", domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
pal <- colorBin("Greens", domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
## Mean Income
?colorBin
pal <- colorBin("Blues", domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
pal <- colorBin(c('white','black'), domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
pal <- colorBin(c('gold','blue'), domain = dat$VoterTurnout)
labels <- paste(dat$CountyOrig,' voter turnout: %', dat$VoterTurnout, sep = '')
map <- leaflet() %>%
addProviderTiles(providers$OpenStreetMap)
turnoutMap <- map  %>%
addPolygons(
data = dat,
weight = 1,
opacity = 1,  # line transparency
color = "black",  # line colour
fillColor = ~pal(VoterTurnout) , # LAD name as a hover label
fillOpacity = 0.75,
highlight = highlightOptions(
weight=5,
color = '#666',
fillOpacity = 0,
bringToFront = TRUE),
label =labels)
turnoutMap
library(shiny)
dropdownLayout
?shiny
turnoutMap
